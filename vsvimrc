# VsVim looks in the following folders: HOME, VIM and USERPROFILE
# Found many vsvimrc files on github:
# https://github.com/jaredpar/VsVim/wiki/Settings-Reference
# https://github.com/aburok/mysettings/blob/master/Vim/_vsvimrc
# https://github.com/aburok/mysettings/blob/master/VisualStudio/vscommands.txt

"set showcmd
"set expandtab
"set smarttab
"set shiftwidth=4
"set softtabstop=4
set incsearch
set hlsearch
set ignorecase
set cursorline
set backspace=indent,eol,start
set vsvim_useeditordefaults
nnoremap <CR> :noh<CR><CR>
set whichwrap+=<,>,h,l   " wrap backspace and cursors correctly

let mapleader=","

" {{{ Start/stop debugging and running
  " ta=test again, tc=test continue, td=test debug, sd=start debug, sc=start
  " continue
  map <Leader>ta :vsc EditorContextMenus.CodeWindow.TestDriven.NET.RerunTests<CR>
  map <Leader>tc :vsc EditorContextMenus.CodeWindow.TestDriven.NET.RunTests<CR>
  map <Leader>td :vsc EditorContextMenus.CodeWindow.TestDriven.NET.Debugger<CR>
  map <Leader>sd :vsc Debug.Start<CR> 
  map <Leader>sc :vsc Debug.StartWithoutDebugging<CR> 
" }}}

" {{{ While debugging
  "map <A-j> :vsc Debug.StepOver<CR>
  "map <A-k> :vsc Debug.StepOut<CR>
  "map <A-l> :vsc Debug.StepInto<CR>
  "map <A-r> :vsc Debug.RunToCursor<CR>
  "map <A-s> :vsc Debug.SetNextStatement<CR>
  "map <A-h> :vsc 
  "vnoremap <Tab> >
  "vnoremap <S-Tab> <
" }}}

" {{{ Windows
  map <Leader>wa :vsc Debug.Autos<CR>
  map <Leader>wb :vsc View.BookmarkWindow<CR>
  map <Leader>wc :vsc View.CommandWindow<CR>
  map <Leader>we :vsc Debug.Exceptions<CR>
  map <Leader>wf :vsc View.FullScreen<CR>
  map <Leader>wg :vsc Team.Git.GoToGitChanges<CR>
  map <Leader>wh :vsc Window.AutoHideAll<CR>
  map <Leader>wi :vsc Debug.Immediate<CR>
  map <Leader>wk :vsc Tools.CustomizeKeyboard<CR>
  map <Leader>wl :vsc Debug.Locals<CR>
  map <Leader>wm :vsc Debug.Modules<CR>
  map <Leader>wo :vsc Debug.Output<CR>
  map <Leader>wp :vsc Debug.Breakpoints<CR>
  map <Leader>wr :vsc View.FindResults1<CR>
  map <Leader>wse :vsc View.SolutionExplorer<CR>
  map <Leader>wsr :vsc View.FindSymbolResults<CR>
  map <Leader>wt :vsc Debug.Threads<CR>
" }}}

" {{{ Folding
  " Use za to fold
  " zc and zo to close and open folds
  " zC to close all. 
  " But zO to open all doesn't work.
  map zm :vsc Edit.CollapsetoDefinitions<CR>
" }}}


" {{{ Navigation
  map gb :vsc View.NavigateBackward<CR>
  map gB :vsc View.NavigateForward<CR>
  nmap <C-O> :vsc View.NavigateBackward<CR>
  nmap <C-I> :vsc View.NavigateForward<CR>

  " gd goes to definition by default
  map gr :vsc Edit.FindAllReferences<CR>

  map gpm :vsc Edit.PreviousMethod<CR>
  map gnm :vsc Edit.NextMethod<CR>

  map gnb :vsc Edit.NextBookmarkInDocument<CR>
  map gNb :vsc Edit.NextBookmark<CR>
  map gNB :vsc Edit.NextBookmark<CR>
  map gpb :vsc Edit.PreviousBookmarkInDocument<CR>
  map gPb :vsc Edit.PreviousBookmark<CR>
  map gPB :vsc Edit.PreviousBookmark<CR>
" }}}

map <Leader>tb :vsc Edit.ToggleBookmark<CR>

map <Leader>tp :vsc Debug.ToggleBreakpoint<CR>
map <Leader>tep :vsc Debug.EnableBreakpoint<CR>

" Keep tab 
map <Leader>kt :vsc Window.PinTab<CR>
" Open tab
map <Leader>ot :vsc Window.KeepTabOpen<CR>

"Show definiton
map <Leader>sd :vsc Edit.PeekDefinition<CR>
"Show info
map <Leader>si :vsc Edit.QuickInfo<CR>
" Show parameter info
map <Leader>sp :vsc Edit.ParameterInfo<CR>
" Yank parameter info
map <Leader>yp :vsc Edit.CopyParameterTip<CR>

" Delete trailing spaces
:nnoremap <silent> <Leader>ds :%s/\s\+$//e<CR>:nohl<CR>

" Delete extraneous blank lines
":nnoremap <silent> <Leader>ds :g/^$/,/./-j<CR>:nohl<CR>
" -------------------------------------------------------------------------------------------------------------------
" map <Leader>to :vsc <CR>

"TODO: surround with and insert snippet
"
"nmap zX :vsc Edit.UndoClose<CR>
    "nnoremap <leader>B :vsc Build.BuildSolution<CR>

    "nmap <leader>s :vsc Debug.Start<CR>
    "nmap <leader>S :vsc Debug.StopDebugging<CR>
"    	nmap <leader>bd :vsc Debug.DisableAllBreakpoints<CR>
"	nmap <leader>be :vsc Debug.EnableAllBreakpoints<CR>


":nnoremap <silent> <Leader>dd :let _s=@/<CR>:%s/\s\+$//e<CR>:let @/=_s<CR>:nohl<CR>

"    nnoremap <Leader>cmo :vsc Edit.CommentSelection<CR>
"    vnoremap <Leader>cmo :vsc Edit.CommentSelection<CR>
"    nnoremap <Leader>cmc :vsc Edit.UncommentSelection<CR>
"    vnoremap <Leader>cmc :vsc Edit.UncommentSelection<CR>

"map <Leader>ta :vsc Tools.TestDriven.Net.Abort
"Debug.StopDebugging --> SS (stop) and TT (stop test)


" Build --> Ctrl-Shift-B
" Debug.DetachAll --> maybe later
" DebuggerContextMenus.ProcessesWindow.ContinueProcess
" DebuggerContextMenus.ProcessesWindow.DetachProcess
" DebuggerContextMenus.ProcessesWindow.TerminateProcess

" Edit.GoToFindResults1Location
" Edit.GoToFindResults1NextLocation
" Edit.GoToFindResults1PrevLocation
" Edit.GoToFindResults2Location
" Edit.GoToFindResults2NextLocation
" Edit.GoToFindResults2PrevLocation

" cm for commenting?
" System-Copy with keybinding cp
" Line (describes from the first non-white character to the last). For instance, cil (change in line)

" Edit.LineDown alt-j
" Edit.LineUp alt-k
" 
	" add empty lines with no insert mode
"	map <S-enter> O<Esc>
"	map <enter> o<Esc>

"	" delete char without yank
"	noremap x "_x
"	noremap X "_X

"	" H/L is more natural than 0/$
"	map H 0
"	map L $

"	" keep search results in the center of the screen
"	nnoremap <silent> n nzz
"	nnoremap <silent> N Nzz
"	nnoremap <silent> * *zz
"	nnoremap <silent> # #zz
"	nnoremap <silent> g* g*zz
"	nnoremap <silent> g# g#zz

	" reselect visual block after indent
"	vnoremap < <gv
"	vnoremap > >gv
""
	" save configuration
"	nnoremap <leader>sv :so $MYVIMRC<CR>
" https://github.com/BruceKpersonal/.vim/blob/master/.vsvimrc


" Fold like ^m^o, expand all #regions and leave cursor in the current region
" nnoremap z1 j?# region<cr>mzzMNNNNNNNNNN'z/ÿÿÿ<cr>zz
" Fold like z1, but only expand method regions
" nnoremap z2 j?# region.*Methods<cr>mzzMNNNNNNNNNN'z/ÿÿÿ<cr>zz

" Fold like z1, but also return cursor to last position
" nnoremap z8 mzzMgg/# region<cr>nnnnnnnnnn`z/ÿÿÿ<cr>zz
" Fold like ^m^o^m^m, but return cursor to last position
" nnoremap z9 mzzM`zzz


" https://github.com/pwnb0t/dotfiles/blob/master/.vsvimrc

" nnoremap <leader>vm :edit C:\Users\bblass\_vimrc<CR>
" nnoremap <leader>vs :edit C:\Users\bblass\_vsvimrc<CR>
" nnoremap <leader>rs :source C:\Users\bblass\_vsvimrc<CR>
"copy line without CR
" noremap Y ^y$
"goto 1st non-space char (note: 0 is beginning of line)
" noremap 1 ^
" https://github.com/bab491/vimscripts/blob/master/_vsvimrc

" https://github.com/psibar/dotfiles/blob/master/vim/_vsvimrc

" https://github.com/cakn/vimfiles/blob/master/_vsvimrc

